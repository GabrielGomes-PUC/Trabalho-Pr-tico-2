<html>
<!doctype html>
<html lang="pt-BR">

<head>
  <link rel="stylesheet" href="style.css">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Bootstrap demo</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
</head>

<body>
  <nav class="navbar navbar-expand-lg bg-light">
    <div class="container-fluid">
      <svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" fill="currentColor" class="bi bi-joystick"
        viewBox="0 0 16 16">
        <path
          d="M10 2a2 2 0 0 1-1.5 1.937v5.087c.863.083 1.5.377 1.5.726 0 .414-.895.75-2 .75s-2-.336-2-.75c0-.35.637-.643 1.5-.726V3.937A2 2 0 1 1 10 2z" />
        <path
          d="M0 9.665v1.717a1 1 0 0 0 .553.894l6.553 3.277a2 2 0 0 0 1.788 0l6.553-3.277a1 1 0 0 0 .553-.894V9.665c0-.1-.06-.19-.152-.23L9.5 6.715v.993l5.227 2.178a.125.125 0 0 1 .001.23l-5.94 2.546a2 2 0 0 1-1.576 0l-5.94-2.546a.125.125 0 0 1 .001-.23L6.5 7.708l-.013-.988L.152 9.435a.25.25 0 0 0-.152.23z" />
      </svg>
  
      <form class="d-flex" role="search">
                <ul class="navbar-nav mr-auto">
                  <li class="nav-item active">
                    <a class="nav-link ativo-nav" href="index.html">Home</span></a>
                  </li>
                  <li class="nav-item active">
                    <a class="nav-link" href="pesquisa.html">Pesquisa</span></a>
                  </li>
                </ul>
                <!-- <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                                                                        <button class="btn btn-outline-success" type="submit">Search</button> -->
      </form>
    </div>
  </nav>
  
  <!-- lançamentos -->
  
  <div class="flex row col-lg-12 justify-content-center ">
  
    <!-- publishers -->
  
    <div class="card col-lg-12 justify-content-center " style="width: 100%;">
      <div class="card col-lg-8 justify-content-center align-self-center" id="main-image" style="width: 70%;">
  
      </div>
      <div class="card col-lg-8 justify-content-center align-self-center" id="body-group" style="width: 70%;">
  
      </div>
      <div class="card col-lg-8 justify-content-center align-self-center" id="creators" style="width: 70%;">
  
      </div>
  
    </div>
    <!-- <div id="mid" class="flex publishers-container justify-content-center main-image">
                                  <div class="flex row col-lg-12 justify-content-around">
                                    <div class="card col-lg-3" style="width: 18rem;">
                                      <img id="mac-img" src="./img/logo-riot.svg" class="card-img-top" alt="...">
                                      <div class="card-body">
                                        <h5 class="card-title">Mac OS</h5>
                                        <p class="card-text">Principais jogos:
                                        </p>
                                        <div class="row">
                                          <div class="col-10">
                                            <div class="list-group" id="list-tab" role="tablist">
                                              <a class="list-group-item list-group-item-action active" id="list-home-list" data-bs-toggle="list"
                                                href="#list-home" role="tab" aria-controls="list-home">League of Legends</a>
                                              <a class="list-group-item list-group-item-action" id="list-profile-list" data-bs-toggle="list"
                                                href="#list-profile" role="tab" aria-controls="list-profile">Valorant</a>
                                              <a class="list-group-item list-group-item-action" id="list-messages-list" data-bs-toggle="list"
                                                href="#list-messages" role="tab" aria-controls="list-messages">Wild Rift</a>
                              
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                              
                                    <div class="card col-lg-3" style="width: 18rem;">
                                      <img id="logo-ea" src="./img/logo-ea.svg" class="card-img-top" alt="...">
                                      <div class="card-body">
                                        <h5 class="card-title">PS4</h5>
                                        <p class="card-text">Principais jogos:
                                        </p>
                                        <div class="row">
                                          <div class="col-10">
                                            <div class="list-group" id="list-tab" role="tablist">
                                              <a class="list-group-item list-group-item-action active" id="list-home-list" data-bs-toggle="list"
                                                href="#list-home" role="tab" aria-controls="list-home">The sims</a>
                                              <a class="list-group-item list-group-item-action" id="list-profile-list" data-bs-toggle="list"
                                                href="#list-profile" role="tab" aria-controls="list-profile">Apex Legends</a>
                                              <a class="list-group-item list-group-item-action" id="list-messages-list" data-bs-toggle="list"
                                                href="#list-messages" role="tab" aria-controls="list-messages">BattleField 2042</a>
                              
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                              
                                  </div>
                                </div> -->
  
    <footer class="d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top col-lg-12">
      <div class="col-md-4 d-flex align-items-center">
        <a href="/" class="mb-3 me-2 mb-md-0 text-muted text-decoration-none lh-1">
          <svg class="bi" width="30" height="24">
            <use xlink:href="#bootstrap" />
          </svg>
        </a>
        <div class="row col-lg-12 justify-content-between">
  
          <span class="mb-3 mb-md-0 text-muted col-lg-8">&copy; Copyright 2020 - Gabriel Gomes de oliveira - Curso: Sistemas de
            informação - Matrícula: 140723</span>
        </div>
      </div>
  
      <svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" fill="currentColor" class="bi bi-joystick col-lg-4"
        viewBox="0 0 16 16">
        <path
          d="M10 2a2 2 0 0 1-1.5 1.937v5.087c.863.083 1.5.377 1.5.726 0 .414-.895.75-2 .75s-2-.336-2-.75c0-.35.637-.643 1.5-.726V3.937A2 2 0 1 1 10 2z" />
        <path
          d="M0 9.665v1.717a1 1 0 0 0 .553.894l6.553 3.277a2 2 0 0 0 1.788 0l6.553-3.277a1 1 0 0 0 .553-.894V9.665c0-.1-.06-.19-.152-.23L9.5 6.715v.993l5.227 2.178a.125.125 0 0 1 .001.23l-5.94 2.546a2 2 0 0 1-1.576 0l-5.94-2.546a.125.125 0 0 1 .001-.23L6.5 7.708l-.013-.988L.152 9.435a.25.25 0 0 0-.152.23z" />
      </svg>
  
  
    </footer>
  </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8" crossorigin="anonymous">


</script>
<script>
  const queryString = window.location.search;
  const urlParams = new URLSearchParams(queryString);
  const id = urlParams.get('id');
  console.log('id: ' + id)
  const key = urlParams.get('key');
  console.log('key: ' + key)

  let main = document.getElementById('body-group');
  // main.innerHTML = `<h2>qwerqwerqwer</h2>`
  async function start() {
    const api = "https://api.rawg.io/api";
    let gameInfo = await fetch(`${api}/games/${id}?key=${key}`);
    const gameInfoObject = await gameInfo.json();
    let getCreators = await fetch(`${api}/creators/${id}?key=${key}`)
    const creatorsInfoObject = await getCreators.json();

    console.log('creatorsInfoObject')
    console.log(creatorsInfoObject)

    const plataformas = gameInfoObject.platforms.map(e => {
      const plat = e.platform;
      console.log(plat.name)
      return ` ${plat.name}`;
    });

    let imageLocation = document.getElementById('main-image');
    let creatorsLocal = document.getElementById('creators');
    console.log(creatorsLocal)
    imageLocation.innerHTML = `
        <img id="${gameInfoObject.id}" src="${gameInfoObject.background_image}"  class=".img-fluid. width: 2%;" >`;

    main.innerHTML =
      `
    <H2>plataormas: </H2>
    <h5>${plataformas}</h5>
    `
    creatorsLocal.innerHTML = `
      <img id="${creatorsInfoObject.id}" src="${creatorsInfoObject.image_background}" class="img-fluid width: 2%;">
      <H2>${creatorsInfoObject.name}</H2>
      <p>${creatorsInfoObject.description}</p>
      `
  }

    start();
</script>
</body>

</html>