<html>
<!doctype html>
<html lang="pt-BR">

<head>
  <link rel="stylesheet" href="style.css">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Bootstrap demo</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
</head>

<body>
  <nav class="navbar navbar-expand-lg bg-light">
    <div class="container-fluid">
      <svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" fill="currentColor" class="bi bi-joystick"
        viewBox="0 0 16 16">
        <path
          d="M10 2a2 2 0 0 1-1.5 1.937v5.087c.863.083 1.5.377 1.5.726 0 .414-.895.75-2 .75s-2-.336-2-.75c0-.35.637-.643 1.5-.726V3.937A2 2 0 1 1 10 2z" />
        <path
          d="M0 9.665v1.717a1 1 0 0 0 .553.894l6.553 3.277a2 2 0 0 0 1.788 0l6.553-3.277a1 1 0 0 0 .553-.894V9.665c0-.1-.06-.19-.152-.23L9.5 6.715v.993l5.227 2.178a.125.125 0 0 1 .001.23l-5.94 2.546a2 2 0 0 1-1.576 0l-5.94-2.546a.125.125 0 0 1 .001-.23L6.5 7.708l-.013-.988L.152 9.435a.25.25 0 0 0-.152.23z" />
      </svg>

      <div class="d-flex" role="search">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item active">
            <a class="nav-link ativo-nav" href="index.html">Home</span></a>
          </li>
          <li class="nav-item active">
            <a class="nav-link" href="pesquisa.html">Pesquisa</span></a>
          </li>
        </ul>
        <!-- <input class="form-control me-2" id="search" onchange="setValue()" type="search" placeholder="Search"
          aria-label="Search">
        <button class="btn btn-outline-success" onclick="getItems()">Search</button>
      </div> -->
      </div>
  </nav>

  <!-- lanÃ§amentos -->

  <div class="flex row col-lg-12 justify-content-center ">

    <!-- publishers -->
    <div class="flex-row col-lg-8 d-flex" role="search">

      <input class="form-control me-2" id="search" onchange="setValue()" type="search"
        placeholder="Digite aqui para pesquisar" aria-label="Search">
      <button class="btn btn-outline-success" onclick="getItems()">Search</button>
    </div>

    <div class="flex row col-lg-10 justify-content-between " id="lancamentosGroup">

    </div>


    <footer class="d-flex flex-wrap justify-content-between .align-self-end py-3 my-4 border-top col-lg-12">
      <div class="col-md-4 d-flex align-items-center">
        <a href="/" class="mb-3 me-2 mb-md-0 text-muted text-decoration-none lh-1">
          <svg class="bi" width="30" height="24">
            <use xlink:href="#bootstrap" />
          </svg>
        </a>
        <div class="row col-lg-12 justify-content-between">

          <span class="mb-3 mb-md-0 text-muted col-lg-8">&copy; Copyright 2020 - Gabriel Gomes de
            oliveira</span>
        </div>
      </div>

      <svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" fill="currentColor" class="bi bi-joystick col-lg-4"
        viewBox="0 0 16 16">
        <path
          d="M10 2a2 2 0 0 1-1.5 1.937v5.087c.863.083 1.5.377 1.5.726 0 .414-.895.75-2 .75s-2-.336-2-.75c0-.35.637-.643 1.5-.726V3.937A2 2 0 1 1 10 2z" />
        <path
          d="M0 9.665v1.717a1 1 0 0 0 .553.894l6.553 3.277a2 2 0 0 0 1.788 0l6.553-3.277a1 1 0 0 0 .553-.894V9.665c0-.1-.06-.19-.152-.23L9.5 6.715v.993l5.227 2.178a.125.125 0 0 1 .001.23l-5.94 2.546a2 2 0 0 1-1.576 0l-5.94-2.546a.125.125 0 0 1 .001-.23L6.5 7.708l-.013-.988L.152 9.435a.25.25 0 0 0-.152.23z" />
      </svg>


    </footer>
  </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8" crossorigin="anonymous">


    </script>
  <script>
    let valueSearch = "";
    const input = "";
    valueSearch = "";
    let response = "";
    let data = "";
    let total = "";
    const key = 'efaacc46b6104c5d8616a2938d8feafe';
    const api = "https://api.rawg.io/api";
    const itemGroup = document.getElementById('lancamentosGroup');

    async function setItems() {
      data.map(item => {
        total += `<div class="col-lg-3">
            <div class="card" style="width: 18rem;">
              <h4 class="card-title title-card">${item.name}</h4>
              <img id="${item.id}" src="${item.background_image}" class="img-fluid width: 2%;">
            <div class="card-body">
             <a href="detalhes.html?id=${item.id}&key=${key}" type="button" class="btn btn-link">Mais detalhes</a>
            </div>
          </div>
          </div>`
      })
      itemGroup.innerHTML = total
      //name = name
      //image = background_image
      //id = id

    }

    async function getItems() {
      if (valueSearch != "") {
        let headersList = {
          "Accept": "*/*",
          "User-Agent": "Thunder Client (https://www.thunderclient.com)"
        }

        response = await fetch(`${api}/games?search=${valueSearch}&key=${key}`, {
          method: "GET",
          headers: headersList
        });

        data = (await response.json()).results;

        total = "";

        setItems();
      }
    }


    async function setValue() {
      const input = document.getElementById('search');
      valueSearch = input.value;
      // await getItems();
    }

  </script>
</body>

</html>